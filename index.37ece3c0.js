(()=>{"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function a(t,a){for(var o=0;o<a.length;o++){var n=a[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,a){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===e(r)?r:String(r)),n)}var r}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var a=t.g.document;if(!e&&a&&(a.currentScript&&(e=a.currentScript.src),!e)){var o=a.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&!e;)e=o[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.p,t.p,t.p;var o=[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],"Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p",["[","{"],["]","}"],["\\","|"],"Del"],["CapsLock","a","s","d","f","g","h","j","k","l",[";",":"],["'",'"'],"Enter"],["Shift","z","x","c","v","b","n","m",[",","<"],[".",">"],["/","?"],"▲","Shift"],["Ctrl","Alt"," ","Alt","◄","▼","►","Ctrl"]],n=[["ё","1",["2",'"'],["3","№"],"4","5",["6",":"],["7","?"],"8","9","0","-","=","Backspace"],["Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","/","Del"],["CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter"],["Shift","я","ч","с","м","и","т","ь","б","ю",[".",","],"▲","Shift"],["Ctrl","Alt"," ","Alt","◄","▼","►","Ctrl"]],r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wrapperForImage=document.createElement("div"),this.wrapperForImage.classList.add("main-container"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("container"),this.wrapperForImage.append(this.wrapper),this.title=document.createElement("h1"),this.title.textContent="Virtual KeyBoard",this.title.classList.add("title"),this.textarea=document.createElement("textarea"),this.textarea.rows="5",this.textarea.classList.add("textarea"),this.textarea.cursorPosition=0,this.keyBoard=document.createElement("div"),this.keyBoard.classList.add("keyBoard"),this.PS=document.createElement("div"),this.PS.classList.add("ps"),this.PS.textContent='Клавиатура создана на Windows OC,\n\n     переключение языка осуществляется сочетанием клавиш "Alt+Shift" или "Ctrl+Shift" c учетом правильно выбранного языка на компьютере',this.wrapper.append(this.title),this.wrapper.append(this.textarea),this.wrapper.append(this.keyBoard),this.wrapper.append(this.PS),document.body.prepend(this.wrapperForImage),this.textarea.focus()}var r,i;return r=t,(i=[{key:"receiveKeyBoard",value:function(){var t,a=this.keyBoard;t=localStorage.getItem("language")&&"en"!==localStorage.getItem("language")?n:o;for(var r=0;r<t.length;r+=1)for(var i=0;i<t[r].length;i+=1){var c="";if("object"===e(t[r][i])){var s=t[r][i][0];c=s,s=0}else{var l=t[r][i];c=l,l=0}var x={};x.button=document.createElement("div"),x.button.textContent=c,x.button.classList.add("keyButton"),x.button.classList.add("button")," "===x.button.textContent?(x.button.style.paddingLeft="265px",x.button.style.paddingRight="265px"):"Shift"===x.button.textContent&&(x.button.style.paddingLeft="50px",x.button.style.paddingRight="50px"),a.append(x.button)}}},{key:"showKey",value:function(t){var a=this;this.textarea.focus(),t.preventDefault();var r=document.querySelectorAll(".button"),i=t.target.closest(".button");if(i||"click"!==t.type){for(var c=0,s=function(s){if((t.key===r[s].textContent||"ArrowUp"===t.key&&"▲"===r[s].textContent||"ArrowLeft"===t.key&&"◄"===r[s].textContent||"ArrowRight"===t.key&&"►"===r[s].textContent||"ArrowDown"===t.key&&"▼"===r[s].textContent||"click"===t.type&&i.textContent===r[s].textContent)&&!r[s].classList.contains("active")&&"Backspace"!==r[s].textContent&&"Tab"!==r[s].textContent&&"Del"!==r[s].textContent&&"Tab"!==r[s].textContent&&"CapsLock"!==r[s].textContent&&"Enter"!==r[s].textContent&&"Shift"!==r[s].textContent&&"Ctrl"!==r[s].textContent&&"Win"!==r[s].textContent&&"Alt"!==r[s].textContent)a.textarea.cursorPosition=a.textarea.selectionStart,a.textarea.textContent="".concat(a.textarea.textContent.slice(0,a.textarea.cursorPosition)).concat(r[s].textContent).concat(a.textarea.textContent.slice(a.textarea.cursorPosition)),a.textarea.selectionStart=a.textarea.cursorPosition+1,a.textarea.selectionEnd=a.textarea.cursorPosition+1,r[s].classList.add("active"),setTimeout((function(){r[s].classList.remove("active")}),500);else if((t.key===r[s].textContent||"click"===t.type&&i.textContent===r[s].textContent)&&"CapsLock"===r[s].textContent)if(localStorage.getItem("CapsLock")||r[s].classList.contains("active")){localStorage.removeItem("CapsLock");for(var l=0;l<r.length;l+=1)if((r[l].textContent.match(/[A-Za-z]/)||r[l].textContent.match(/[А-Яа-яЁё]/))&&r[l].textContent.length<=1){var x=r[l].textContent.toLowerCase();r[l].textContent=x,x=""}r[s].classList.remove("active")}else{localStorage.setItem("CapsLock","true");for(var u=0;u<r.length;u+=1)if((r[u].textContent.match(/[A-Za-z]/)||r[u].textContent.match(/[А-Яа-яЁё]/))&&r[u].textContent.length<=1){var g=r[u].textContent.toUpperCase();r[u].textContent=g,g=""}r[s].classList.add("active")}else if((t.key===r[s].textContent||"click"===t.type&&i.textContent===r[s].textContent)&&"Alt"===r[s].textContent){if(!localStorage.getItem("Alt")&&!r[s].classList.contains("active")){localStorage.setItem("Alt","true");for(var C=0;C<r.length;C+=1)r[C].textContent===r[s].textContent&&r[C].classList.add("active");return{v:void 0}}if(localStorage.getItem("Alt")&&r[s].classList.contains("active")){for(var v=0;v<r.length;v+=1)r[v].textContent===r[s].textContent&&r[v].classList.remove("active");return localStorage.removeItem("Alt"),{v:void 0}}}else if((t.key===r[s].textContent||"click"===t.type&&i.textContent===r[s].textContent)&&"Shift"===r[s].textContent)if(c+=1,!localStorage.getItem("Alt")&&!localStorage.getItem("Ctrl")||r[s].classList.contains("active"))if(localStorage.getItem("Alt")&&localStorage.getItem("Ctrl")||r[s].classList.contains("active")){if((!localStorage.getItem("Alt")||!localStorage.getItem("Ctrl"))&&r[s].classList.contains("active")){localStorage.removeItem("Shift"),r[s].classList.remove("active");var f=[];localStorage.getItem("language")&&"en"!==localStorage.getItem("language")||(f=o),"ru"===localStorage.getItem("language")&&(f=n);for(var m=0,p=0;p<f.length;p+=1)for(var d=0;d<f[p].length;d+=1){if("object"===e(f[p][d])){var h=f[p][d][0];r[m].textContent=h,h=""}else{var S=f[p][d];r[m].textContent=S,S=""}m+=1}}}else{localStorage.setItem("Shift","true"),r[s].classList.add("active");var y=[];localStorage.getItem("language")&&"en"!==localStorage.getItem("language")||(y=o),"ru"===localStorage.getItem("language")&&(y=n);for(var b=0,L=0;L<y.length;L+=1)for(var k=0;k<y[L].length;k+=1){if("object"===e(y[L][k])){var I=y[L][k][1];r[b].textContent=I,I=""}else{var w=y[L][k];r[b].textContent=w,w=""}b+=1}}else{localStorage.setItem("Shift","true"),r[s].classList.add("active"),"ru"===localStorage.getItem("language")&&c<2?localStorage.language="en":("en"===localStorage.getItem("language")||!localStorage.getItem("language"))&&c<2&&localStorage.setItem("language","ru");var P=[];localStorage.getItem("language")&&"en"!==localStorage.getItem("language")||(P=o),"ru"===localStorage.getItem("language")&&(P=n);for(var A=0,E=0;E<P.length;E+=1)for(var T=0;T<P[E].length;T+=1){if("object"===e(P[E][T])){var B=P[E][T][0];r[A].textContent=B,B=""}else{var j=P[E][T];r[A].textContent=j,j=""}A+=1}setTimeout((function(){localStorage.removeItem("Shift"),localStorage.removeItem("Alt"),localStorage.removeItem("Ctrl");for(var t=0;t<r.length;t+=1)"Alt"!==r[t].textContent&&"Ctrl"!==r[t].textContent&&"Shift"!==r[t].textContent||r[t].classList.remove("active")}),500)}else if((t.key===r[s].textContent||"click"===t.type&&i.textContent===r[s].textContent)&&"Backspace"===r[s].textContent)a.textarea.cursorPosition=a.textarea.selectionStart,a.textarea.cursorPosition>0&&(a.textarea.textContent="".concat(a.textarea.textContent.slice(0,a.textarea.cursorPosition-1)).concat(a.textarea.textContent.slice(a.textarea.cursorPosition)),a.textarea.selectionStart=a.textarea.cursorPosition-1,a.textarea.selectionEnd=a.textarea.cursorPosition-1),r[s].classList.add("active"),setTimeout((function(){r[s].classList.remove("active")}),500);else if(("Delete"===t.key||"click"===t.type&&i.textContent===r[s].textContent)&&"Del"===r[s].textContent)0===a.textarea.selectionStart&&a.textarea.selectionEnd===a.textarea.textContent.length?a.textarea.textContent="":(a.textarea.cursorPosition=a.textarea.selectionStart,a.textarea.cursorPosition!==a.textarea.textContent.length?(a.textarea.textContent="".concat(a.textarea.textContent.slice(0,a.textarea.cursorPosition)).concat(a.textarea.textContent.slice(a.textarea.cursorPosition+1)),a.textarea.selectionStart=a.textarea.cursorPosition,a.textarea.selectionEnd=a.textarea.cursorPosition):a.textarea.textContent=""),r[s].classList.add("active"),setTimeout((function(){r[s].classList.remove("active")}),500);else if((t.key===r[s].textContent||"click"===t.type&&i.textContent===r[s].textContent)&&"Enter"===r[s].textContent)a.textarea.cursorPosition=a.textarea.selectionStart,a.textarea.textContent="".concat(a.textarea.textContent.slice(0,a.textarea.cursorPosition),"\n").concat(a.textarea.textContent.slice(a.textarea.cursorPosition)),a.textarea.selectionStart=a.textarea.cursorPosition+1,a.textarea.selectionEnd=a.textarea.cursorPosition+1,r[s].classList.add("active"),setTimeout((function(){r[s].classList.remove("active")}),500);else if((t.key===r[s].textContent||"click"===t.type&&i.textContent===r[s].textContent)&&"Tab"===r[s].textContent)a.textarea.cursorPosition=a.textarea.selectionStart,a.textarea.textContent="".concat(a.textarea.textContent.slice(0,a.textarea.cursorPosition),"    ").concat(a.textarea.textContent.slice(a.textarea.cursorPosition)),a.textarea.selectionStart=a.textarea.cursorPosition+4,a.textarea.selectionEnd=a.textarea.cursorPosition+4,r[s].classList.add("active"),setTimeout((function(){r[s].classList.remove("active")}),500);else if(("Control"===t.key||"click"===t.type&&i.textContent===r[s].textContent)&&"Ctrl"===r[s].textContent){if(!localStorage.getItem("Ctrl")&&!r[s].classList.contains("active")){localStorage.setItem("Ctrl","true");for(var D=0;D<r.length;D+=1)r[D].textContent===r[s].textContent&&r[D].classList.add("active");return{v:void 0}}if(localStorage.getItem("Ctrl")&&r[s].classList.contains("active")){for(var F=0;F<r.length;F+=1)r[F].textContent===r[s].textContent&&r[F].classList.remove("active");return localStorage.removeItem("Ctrl"),{v:void 0}}}},l=0;l<r.length;l+=1){var x=s(l);if("object"===e(x))return x.v}this.textarea.focus()}}},{key:"textareaFocus",value:function(){this.textarea.focus()}}])&&a(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),t}());r.receiveKeyBoard(),r.keyBoard.addEventListener("click",(function(t){r.showKey(t)})),window.addEventListener("keydown",(function(t){r.showKey(t)}))})();